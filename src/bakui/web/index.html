<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>BakU 文件拖拽</title>
    <style>
        body { font-family: sans-serif; }
        #drop-area {
            border: 2px dashed #888;
            border-radius: 10px;
            width: 90%;
            height: 200px;
            margin: 40px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h2>拖拽文件到此区域</h2>
    <div id="drop-area">拖入多个文件以获取完整路径</div>
    <ul id="file-list"></ul>
    <script>
        const dropArea = document.getElementById('drop-area');
        const fileList = document.getElementById('file-list');

        dropArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropArea.style.borderColor = '#00aaff';
        });
        dropArea.addEventListener('dragleave', (e) => {
            e.preventDefault();
            dropArea.style.borderColor = '#888';
        });
        dropArea.addEventListener('drop', (e) => {
            e.preventDefault();
            dropArea.style.borderColor = '#888';
            const files = Array.from(e.dataTransfer.files);
            fileList.innerHTML = '';
            const paths = files.map(f => f.path);
            files.forEach(f => {
                const li = document.createElement('li');
                li.textContent = f.path;
                fileList.appendChild(li);
            });
            if (window.pywebview) {
                window.pywebview.api.set_file_paths(paths);
            } else {
                alert('未检测到 pywebview 环境');
            }
        });
    </script>
</body>
</html> 